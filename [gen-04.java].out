.CODE
PUSH simple_heap_init
PUSH main
CALL
HALT
simple_heap_init:
RET 0
simple_malloc:
LOADFP
LOADSP
STOREFP
LOADHL
DUP
PUSH 1
ADD
STORE 4
LOAD 3
ADD
STOREHL
STOREFP
RET 1
; Clase Object
Object_debugPrint:
LOADFP
LOADSP
STOREFP
LOAD 3
IPRINT
STOREFP
RET 1
; Clase System
System_read:
LOADFP
LOADSP
STOREFP
READ
STORE 3
STOREFP
RET 0
System_printB:
LOADFP
LOADSP
STOREFP
LOAD 3
BPRINT
STOREFP
RET 1
System_printC:
LOADFP
LOADSP
STOREFP
LOAD 3
CPRINT
STOREFP
RET 1
System_printI:
LOADFP
LOADSP
STOREFP
LOAD 3
IPRINT
STOREFP
RET 1
System_printS:
LOADFP
LOADSP
STOREFP
LOAD 3
SPRINT
STOREFP
RET 1
System_println:
LOADFP
LOADSP
STOREFP
PRNLN
STOREFP
RET 0
System_printBln:
LOADFP
LOADSP
STOREFP
LOAD 3
BPRINT
PRNLN
STOREFP
RET 1
System_printCln:
LOADFP
LOADSP
STOREFP
LOAD 3
CPRINT
PRNLN
STOREFP
RET 1
System_printIln:
LOADFP
LOADSP
STOREFP
LOAD 3
IPRINT
PRNLN
STOREFP
RET 1
System_printSln:
LOADFP
LOADSP
STOREFP
LOAD 3
SPRINT
PRNLN
STOREFP
RET 1
.DATA
lblVTInit: NOP
.CODE
A_m1:
LOADFP
LOADSP
STOREFP
PUSH Object_debugPrint
CALL
PUSH Object_debugPrint
CALL
PUSH System_printSln
CALL
FMEM 0
STOREFP
RET 1
.CODE
A_setall:
LOADFP
LOADSP
STOREFP
PUSH 2
    MUL
PUSH "hola"
FMEM 0
STOREFP
RET 2
.CODE
ctor_A:
LOADFP
LOADSP
STOREFP
STOREFP
RET 1
.DATA
lblVTInit: NOP
.CODE
B_seta4:
LOADFP
LOADSP
STOREFP
PUSH 4000
PUSH 55
FMEM 0
STOREFP
RET 1
.CODE
B_m2:
LOADFP
LOADSP
STOREFP
PUSH Object_debugPrint
CALL
PUSH Object_debugPrint
CALL
FMEM 0
STOREFP
RET 1
.CODE
ctor_B:
LOADFP
LOADSP
STOREFP
STOREFP
RET 1
.DATA
lblVTInit: NOP
.CODE
main:
LOADFP
LOADSP
STOREFP
STORE 0
FMEM 0
STOREFP
RET 0
.CODE
ctor_Init:
LOADFP
LOADSP
STOREFP
STOREFP
RET 1
